%\section{Proposed conceptual framework}
%\label{section:ProposedConceptualFramework}



Motivated by the found shortcoming in the usage of the identified knowledge types with the RA in Sharma and Baral \cite{2018CommonsenseKT}, we present a conceptual analysis which focuses on different categorization of the WSC problems. As a result of our analysis we present six categories based on the domain of commonsense knowledge in which the required additional knowledge belongs. The idea is to use these categories when defining the additional knowledge such that it will contribute to the reasoning process when extracting the possible correct answer. In this chapter, we first discuss the process of identifying the proposed categories and give a short description for each of them. Next, we discuss in more details the semantic representation and the ASP encoding of two WSs from one of the categories. After that, we apply additional knowledge defined according to one of the identified categories to the RA from Sharma~and~Baral~\cite{2018CommonsenseKT}. Finally, we end this chapter with a general discussion.
  
\begin{comment}
Similarly as in Sharma et al. \cite{DBLP:conf/ijcai/SharmaVAB15} and in Sharma and Baral \cite{2018CommonsenseKT}, we identify categories of knowledge which are needed in order to answer the questions from the WSs. 
The identified categories are based on the domains of commonsense knowledge from which the required knowledge is.  
We identified six categories with which all problems from the WSC corpus were categorized.
We use the KParser for extracting the semantic graph representation of the sentence. Next we are interested into identifying the relevant knowledge which is needed for resolving the ambiguous pronoun. 
We use the KParser for extracting the graph representation of the input sentence and question. Furthermore, we use the Reasoning Algorithm given in \cite{2018CommonsenseKT} for finding the correct answer with some small modification which will be explained later.
\end{comment}


\section{Commonsense Domains}
As discussed before, for correctly resolving the problems from the WSC corpus, a system needs to be able to mimic commonsense reasoning. To do this, additional background knowledge from different domains is required. In order to determine these domains of knowledge in the WSC corpus, we approached the problems inductively and we identified six categories. Two annotators thoroughly analyzed the entire WSC corpus (Appendix \ref{AppendixB}) and agreed on six different categories of knowledge. Five of these categories are associated with knowledge from a specific domain, whereas the sixth category requires knowledge from multiple domains.
In a second process, all WSs were annotated with these previously identified categories. The results of the annotation are presented at the end of Appendix \ref{AppendixB}. The annotation was based on the least possible knowledge that is necessary in order to solve the problem. For each WSC problem, the relevant knowledge which is required for resolving  it can be from different domains, however we tried to identify the domain of the least knowledge necessary. To decide which WS belongs to which category, we rely on the context of the sentence and on the adjective or the special word. An annotator may place a problem in only one of the six possible categories. Additionally, the identified categories are specific to the WSC corpus and they are related to what was discovered during the analysis done by the annotators. We now explain the six categories in more detail. 

\paragraph{Physical} To resolve the WSs from this category additional knowledge about some physical feature which is a trait of the ambiguous pronoun is needed.
 
\paragraph{Emotional} This category captures all WSs that include some emotion. In other words, resolving these WSs requires some knowledge about emotions and their characteristics.

\paragraph{Interactions} These WSs are related to abstract forms of interaction between the subject and the object in the sentence.

\paragraph{Comparison} In this category are all the WSs where the special words are usually antonyms. The comparison is mostly between the subject and the object in the sentence. 

\paragraph{Causal} Although many of the WSs express causality, we categorize here only those for which the causality is expressed explicitly. These sentences contain linking words such as \textit{so} and \textit{because}.

\paragraph{Multiple knowledge} Lastly, this category contains all the WSs which do not belong to any of the other categories. For resolving these WSs knowledge from different domains is required.

\begin{table} [h!]
	\input{types.tex} 
	\caption{{\label{types}}Types of knowledge.}
\end{table}

The annotation of the WSs in some cases was very straightforward and easy to decide. For instance, if we analyze the example for the \textit{Emotional} category in Table \ref{types} the special word can be \textit{vindicated} or \textit{crushed}, which we know both are emotions. In addition, the verb \textit{felt}, which is a past form of the verb \textit{to feel}, is an emotion indicator. To answer the question ``Who was the winner of the competition?", a deeper understanding of both emotions is required. Furthermore, knowledge about which emotions are related to winning is needed. 
Overall, the reasoning process for answering the questions in this category involves knowledge about emotions. 

In comparison, the annotation of the WSs from the \textit{Interactions} category was challenging. The WSs in this category are about inter-human relationships, often between the subject and the object in the sentence. 
To solve a WS from this category, applying knowledge about more abstract activities is necessary. Some examples for such activities are: to cooperate, to promise, to convince, to refuse, etc. That is to say, when resolving these WSs there is no reasoning about emotions, comparison or exchange of any physical objects involved.  
The sentence given as an example from this category in Table \ref{types} is annotated with category \textit{Interactions} because of the special word. \textit{Giving/Receiving} help is an abstract form of interaction between two different entities. This activity cannot be categorized as physical, emotional, causal or as comparison.

Additionally, these categories can be divided further.
Since in the \textit{Physical} category we have the highest number of WSs, we will analyze this category in more details. The WSs from this category, contain different physical features which characterize the ambiguous pronoun. After carefully analyzing these features we identified five subcategories: \textit{size, height/width, weight, space} and \textit{time}. 

In the \textit{size} subcategory is the WS from \ref{Ex1}, which was discussed in chapter \ref{Background}.
The activity in the sentence from this WS depends on the physical trait of the pronoun \textit{\underline{it}}.
\begin{itemize}
	\item[\textbf{S:}] \textbf{\underline{The trophy} does not fit into \underline{the brown suitcase} because \underline{it} is too small.}
\end{itemize}
This physical trait is also the special word which can be \textit{small} or \textit{large}. Although there are other properties of the objects in the sentence, only the knowledge about the physical traits of the objects is of crucial importance for correctly answering the question. 
For \ref{Ex1}, this knowledge should capture that a small object cannot fit into a large one, while a large one can fit small object.

Similar to this subcategory are the \textit{height/width} and the \textit{weight} subcategories. The WSs in these subcategories have a special word which characterize the ambiguous pronoun with certain height, width or weight such as \textit{short/tall}, \textit{wide/narrow}. Since these are all similar traits, we assume that their characterizations can be formalized in a similar way.


For solving the WSs from the \textit{space} subcategory, spatial reasoning and in some cases spatial-temporal reasoning is needed. Since the knowledge required for resolving the WSs from this subcategory has to include rules for navigating and understanding time and space, we consider the knowledge needed for this category to be the hardest one to formalize among the subcategories of the \textit{Physical} category.
For example, consider the following WS:\\
\labeltext{\textit{Example 4.1}}{space} 
\begin{itemize} 
	\item[\textbf{S:}] \textbf{\underline{Tom} threw his schoolbag down to \underline{Ray} after \underline{he} reached the [top/bottom] of the stairs.}
	\item[\textbf{Q:}] \textbf{Who reached the [top/bottom] of the stairs?}
	\item[\textbf{A:}] \textbf{Tom/Ray}
\end{itemize}

The sentence in \ref{space} contains information about a specific location in space which can be \textit{top of the stairs} or \textit{bottom of the stairs}. In addition, it states something about an event which happened \textit{after} a certain event. Therefore, answering the question from this example requires applying reasoning about both space and time. Other WSs are simpler, where only knowledge about space is needed. These WSs have a special word such as: \textit{above/bellow, in/out}.

The WSs from the \textit{time} subcategory require temporal reasoning. 
Formalization of knowledge about change over time and chronology of events is needed for solving these WSs. For annotating these WSs we relied on the context and we identified events which happened at different points in time. The following is an example of WS that belongs to this subcategory:

\labeltext{\textit{Example 4.2}}{time}
\begin{itemize} \label{Ex2}
	\item[\textbf{S:}] \textbf{\underline{Thomson} visited \underline{Cooper}'s grave in 1765. At that date \underline{he} had been} \\ \textbf{[dead/travelling] for five years.}
	\item[\textbf{Q:}] \textbf{ Who had been [dead/traveling] for five years? }
	\item[\textbf{A:}] \textbf{Cooper/Thomson}
\end{itemize}
In order to correctly answer the question from this WS as additional knowledge it is necessary to know what it means for a person to be dead/traveling for five years. For the first half of the WS, when the special word is \textit{dead}: If a person has been dead for five years, then that same person could not be visiting anyone's grave. For the second half of the WS,  when the special word is \textit{traveling}: If a person has been traveling for five years, then normally this person would not have a grave. 

\paragraph{Evaluation}
To evaluate the agreement of the annotation 
%whether the identified categories are appropriate for annotating the WSs,
we used Cohen's kappa statistic \cite{doi:10.1177/001316446002000104}, which is a measure for an inter-rater agreement. Namely, Cohen's kappa measures the agreement between two annotators regarding the annotation of \textit{N} items with \textit{C} mutually exclusive categories. 
It is defined as follows: 
\begin{equation}
	\kappa = (p_o-p_e)/(1-p_e)
\end{equation}
where $p_o$ is the observed accuracy among the annotators and $p_e$ is the expected accuracy when both annotators assign categories randomly. Each of the two annotators analyzed all the problems from the WSC corpus and annotated them with one of the identified six categories. We calculated the observed accuracy $p_o = 0.726$ and the agreement due to chance $p_e = 0.195$. Substituting these values in (4.1) we calculated  the Cohen's kappa score: $\kappa = 0.66$.
%NOTE: observed accuraccy: all the WS for which both agree (total 109)

\paragraph{Results}
The calculated Cohen's kappa score for the annotation of the WSs is 0.66. According to the description for relative strength of agreement from Landis and Koch \cite{articleM}, this score is interpreted as substantial agreement. In our case this means, that both annotators largely agree on the annotation of WSs with the provided six categories.

\begin{table}[h!]
	\centering
	\input{categories.tex}
	\caption{{\label{kappa}}Annotation results.}
\end{table}

Table \ref{kappa} shows the number of WSs  and the percentage of the total number of WSs for each category, as annotated by the two annotators. The result of the evaluation of the WSs annotation indicates that all of the identified categories were recognized by the two annotators. Although not a large number of WSs are in the \textit{Emotions} and \textit{Causal} categories, there is a strong agreement between the annotators about the WSs belonging in these two categories. For the \textit{Causal} category, this indicates that even though many of the WSs seem causal, it is not so difficult to discriminate the sentences in which the cause and effect are explicit. The \textit{Physical} category contains the largest number of WSs for which both annotators agree. Indeed, the observation of the semantic graphs for WSs from this category showed that there is a similarity in the knowledge that is represented with these WSs. As discussed earlier, the identification of the WSs which belong in the \textit{Interactions} category was quite difficult. This is clearly shown in the large difference between the annotators in the annotation results. While annotator 1 placed 44 WSs in this category, the annotator 2 placed 24 WSs.
The other 20 WSs were distributed among all other five categories.  



\section{Semantic Representation and ASP Encoding}
As the \textit{Physical} category was the one on which both annotators agreed on, we will further investigate two WSs that belong to this category. Namely, we observe the WSs from \ref{Ex1} and \ref{ex:Graph} (\#2 and \#8 in Appendix \ref{AppendixB}). 
We use the KParser for translating the input sentence and question into a graph representation.
The two semantic graphs\footnote{Slightly simplified such that only relevant information is represented.}, are shown in Figure \ref{Graph1} and Figure \ref{Graph2}. We can observe that the semantic representations of the sentences are indeed very similar. 
Figure \ref{Graph1} represents the semantic graph for the sentence:

\begin{itemize}
	\item[\textbf{S1:}] \textbf{The trophy does not fit into the brown suitcase because it is too small.}
\end{itemize}
\begin{figure} [h!]
	\centering
	\input{graph1.tex}
	\caption{\label{Graph1}``The trophy doesn't fit into the brown suitcase because it's too small."}
\end{figure}

Figure \ref{Graph2} shows the semantic graph for the sentence:

\begin{itemize}
	\item[\textbf{S2:}] \textbf{The man couldn't lift his son because he was so weak.}
\end{itemize} 


\begin{figure}[h!]
	\centering
	\input{graph11.tex}
	\caption{\label{Graph2}``The man couldn't lift his son because he was so weak."}
\end{figure}

In both representations, the main event (\textit{fit, lift}) is connected with the agent and the recipient of the action as well as with the modifiers of the action. Additionally, the ambiguous pronoun (\textit{it, he}),  associated with a physical trait (\textit{small, weak}), is represented as the cause of the main action. 

We are interested to find out whether we can improve the reasoning procedure from Sharma and Baral \cite{2018CommonsenseKT} 
by applying rules based on the category of the WS. 
For this purpose, for both WSs from \ref{Ex1}~and~\ref{ex:Graph}, the input sentences, questions and additional knowledge were encoded in ASP (See Appendix \ref{AppendixA}). Because we use the RA, we used the same predicate names as in the worked-out example which was discussed in Section \ref{RA}. As an example of these ASP rules, part of the extracted rules for the WS from \ref{Ex1} are presented in Code \ref{code1} and  Code \ref{code2}. 
Since both of the WSs that we are testing are from the \textit{Physical} category, as additional knowledge we provide a rule that characterizes the physical trait from the sentences. 

Code \ref{code1} shows the rules\footnote{Simplified such that only rules with relevant information are shown.} extracted from the graph in Figure \ref{Graph1}. For extracting these rules we followed the steps provided for the worked-out example. However, it is not difficult to notice that the information encoded in the ASP rules comes straightforward from observing the graph representation of the sentence.
Code \ref{code2} shows the rules which are used as additional knowledge for this example. The rule in Line 1 is the rule which characterizes the physical trait of the ambiguous pronoun. We encode the trait of being small as trait of an object and we have no knowledge that this object can fit something else. To explain this further, as additional knowledge we encode the sentence: \textit{``Small object(s) could not fit"}.
In the same manner the ASP rules for the WSs from \ref{ex:Graph} are defined. As additional knowledge for this example we encode the sentence: \textit{``Weak entitie(s) could not lift"}. 

\begin{lstlisting}[language = Prolog,  caption={Knowledge from Figure 4.1},label=code1, numbers=left,
numberstyle=\tiny] 
has_s(it_11,instance_of,object).
has_s(small_14,is_trait_of,it_9).
has_s(fit_5,agent,trophy_2).
has_s(fit_5,recipient,suitcase_9).
has_s(suitcase_9,instance_of,object).
has_s(trophy_2,instance_of,object).
\end{lstlisting}

\begin{lstlisting}[language = Prolog,  caption={Additional knowledge},label=code2,numbers=left,
numberstyle=\tiny]
has_k(small_1,is_trait_of,y_2) :- has_k(fits_5, recipient, y_2), 
				  not has_k(fits_5,modifier,could_3).
has_k(y_2,instance_of,entity).
has_k(fits_5,recipient,y_2).
\end{lstlisting}

When running the RA with our encoding of the additional knowledge, the correct answer was retrieved for both examples. We also considered the twin sentences with the switched special word, and the RA again retrieved the correct answer. Additionally, when the rule describing the background knowledge is removed, no answer was retrieved. Furthermore, in Line 4 when we substitute \textit{recipient} with \textit{agent}, again no answer is retrieved. This means that when the additional knowledge is formalized as in Code \ref{code2}, it prevents the RA to rely on hard coded information.









